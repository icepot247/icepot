import{_ as T,a as L}from"./Loader.214a5203.js";import{_ as V}from"./card.vue.e2628f8a.js";import{_ as j}from"./client-only.9fcd55e4.js";import q from"./Icon.bb8d0620.js";import{g as H,i as $,r as g,j as m,u as M,q as S,o as l,c as h,b as s,a as i,s as k,v as E,k as n,x as O,w as C,y as w,t as P,F as R,z as U,l as z,m as G}from"./entry.19213222.js";import{u as J,q as K}from"./query.4c46b010.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-img.409a40f1.js";import"./tag.02a2a64e.js";import"./arrow.e0404540.js";import"./nuxt-link.55942da1.js";import"./config.86a16828.js";import"./preview.b1699a39.js";const Q={class:"container max-w-5xl mx-auto text-zinc-600"},W={class:"px-3"},X={class:"space-y-5 my-5"},Y={class:"flex justify-center items-center space-x-6"},Z=["disabled"],ee=["disabled"],ge=H({__name:"index",async setup(te){let r,f;const{data:D}=([r,f]=$(()=>J("home",()=>K("/blogs").sort({_id:-1}).find())),r=await r,f(),r),_=g(4),a=g(1),c=g(""),I=m(()=>{var o;return((o=D.value)==null?void 0:o.map(e=>({path:e._path,title:e.title||"no-title available",description:e.description||"no-descriptoin available",image:e.image||"/nuxt-blog/no-image_cyyits.png",alt:e.alt||"no alter data available",ogImage:e.ogImage||"/nuxt-blog/no-image_cyyits.png",date:e.date||"not-date-available",tags:e.tags||[],published:e.published||!1})))||[]}),v=m(()=>I.value.filter(o=>o.title.toLocaleLowerCase().search(c.value)!==-1)||[]),b=m(()=>v.value.filter((o,e)=>{const p=(a.value-1)*_.value,u=a.value*_.value-1;return e>=p&&e<=u})||[]);function F(){a.value>1&&(a.value-=1)}const d=m(()=>{const o=v.value.length||0;return Math.ceil(o/_.value)});function N(){a.value<d.value&&(a.value+=1)}return M({title:"Archive",meta:[{name:"description",content:"Here you will find all the blog posts I have written & published on this site."}],titleTemplate:"icePot - %s"}),(o,e)=>{const p=T,u=V,x=L,A=j,y=q,B=S("auto-animate");return l(),h("main",Q,[s(p),i("div",W,[k(i("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>O(c)?c.value=t:null),placeholder:"Search",type:"text",class:"block w-full bg-[#F1F2F4] dark:bg-zinc-800 dark:placeholder-zinc-500 text-zinc-300 rounded-md border-gray-300 dark:border-gray-800 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[E,n(c)]])]),s(A,null,{fallback:C(()=>[s(x),s(x)]),default:C(()=>[k((l(),h("div",X,[(l(!0),h(R,null,U(n(b),t=>(l(),z(u,{key:t.title,path:t.path,title:t.title,date:t.date,description:t.description,image:t.image,alt:t.alt,"og-image":t.ogImage,tags:t.tags,published:t.published},null,8,["path","title","date","description","image","alt","og-image","tags","published"]))),128)),n(b).length<=0?(l(),z(u,{key:0,title:"No Post Found",image:"/not-found.jpg"})):G("",!0)])),[[B]])]),_:1}),i("div",Y,[i("button",{disabled:n(a)<=1,onClick:F},[s(y,{name:"mdi:code-less-than",size:"30",class:w({"text-sky-700 dark:text-sky-400":n(a)>1})},null,8,["class"])],8,Z),i("p",null,P(n(a))+" / "+P(n(d)),1),i("button",{disabled:n(a)>=n(d),onClick:N},[s(y,{name:"mdi:code-greater-than",size:"30",class:w({"text-sky-700 dark:text-sky-400":n(a)<n(d)})},null,8,["class"])],8,ee)])])}}});export{ge as default};
